(function(){const A=document.createElement("link").relList;if(A&&A.supports&&A.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))h(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const D of c.addedNodes)D.tagName==="LINK"&&D.rel==="modulepreload"&&h(D)}).observe(document,{childList:!0,subtree:!0});function a(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function h(o){if(o.ep)return;o.ep=!0;const c=a(o);fetch(o.href,c)}})();const J={level1:{level:1,speed:.7,obstaclePositions:[{x:3,y:2},{x:3,y:3},{x:17,y:2},{x:17,y:3},{x:17,y:4},{x:7,y:7},{x:7,y:8},{x:7,y:9},{x:8,y:7},{x:8,y:8},{x:9,y:7},{x:9,y:8},{x:12,y:16},{x:12,y:13},{x:12,y:14},{x:12,y:15},{x:4,y:18},{x:4,y:17},{x:3,y:18},{x:3,y:17}]},level2:{level:2,speed:.55,obstaclePositions:[{x:1,y:7},{x:3,y:2},{x:3,y:3},{x:3,y:15},{x:3,y:14},{x:4,y:17},{x:4,y:18},{x:6,y:8},{x:7,y:7},{x:7,y:8},{x:8,y:7},{x:8,y:8},{x:9,y:7},{x:9,y:8},{x:12,y:13},{x:12,y:14},{x:12,y:15},{x:12,y:16},{x:13,y:15},{x:13,y:16},{x:17,y:1},{x:17,y:2},{x:17,y:3},{x:17,y:7},{x:17,y:8}]},level3:{level:3,speed:.45,obstaclePositions:[{x:1,y:7},{x:3,y:1},{x:3,y:2},{x:3,y:15},{x:3,y:14},{x:4,y:3},{x:4,y:4},{x:4,y:17},{x:4,y:18},{x:6,y:9},{x:7,y:8},{x:7,y:7},{x:7,y:6},{x:8,y:7},{x:8,y:8},{x:8,y:15},{x:9,y:16},{x:10,y:17},{x:12,y:7},{x:12,y:8},{x:13,y:15},{x:13,y:16},{x:16,y:13},{x:16,y:14},{x:16,y:18},{x:16,y:19},{x:17,y:1},{x:17,y:2},{x:17,y:3},{x:19,y:7},{x:19,y:8}]},level4:{level:4,speed:.38,obstaclePositions:[{x:0,y:1},{x:0,y:4},{x:0,y:19},{x:0,y:10},{x:0,y:11},{x:0,y:12},{x:2,y:2},{x:2,y:3},{x:3,y:12},{x:3,y:13},{x:4,y:9},{x:4,y:10},{x:4,y:19},{x:5,y:7},{x:5,y:6},{x:6,y:7},{x:6,y:8},{x:6,y:15},{x:7,y:7},{x:7,y:8},{x:7,y:15},{x:8,y:0},{x:8,y:1},{x:8,y:2},{x:9,y:16},{x:9,y:17},{x:10,y:15},{x:10,y:16},{x:10,y:17},{x:11,y:9},{x:11,y:8},{x:11,y:2},{x:12,y:5},{x:13,y:6},{x:13,y:7},{x:14,y:10},{x:14,y:11},{x:15,y:13},{x:15,y:14},{x:16,y:17},{x:16,y:19},{x:17,y:1},{x:17,y:2},{x:17,y:3},{x:15,y:1},{x:15,y:2},{x:18,y:3},{x:18,y:16},{x:18,y:17},{x:18,y:18},{x:18,y:19},{x:19,y:17}]},level5:{level:5,speed:.3,obstaclePositions:[{x:0,y:4},{x:0,y:1},{x:0,y:10},{x:0,y:18},{x:0,y:11},{x:0,y:12},{x:2,y:2},{x:2,y:3},{x:2,y:5},{x:2,y:6},{x:3,y:12},{x:3,y:13},{x:4,y:9},{x:4,y:10},{x:4,y:19},{x:5,y:3},{x:5,y:4},{x:5,y:7},{x:5,y:6},{x:6,y:4},{x:6,y:8},{x:6,y:15},{x:8,y:0},{x:8,y:1},{x:8,y:2},{x:8,y:13},{x:8,y:14},{x:9,y:8},{x:9,y:13},{x:9,y:14},{x:10,y:11},{x:10,y:17},{x:11,y:9},{x:11,y:8},{x:11,y:18},{x:11,y:19},{x:11,y:2},{x:12,y:5},{x:13,y:6},{x:13,y:7},{x:13,y:4},{x:13,y:5},{x:13,y:10},{x:13,y:11},{x:15,y:15},{x:15,y:16},{x:15,y:18},{x:15,y:19},{x:16,y:2},{x:16,y:18},{x:16,y:19},{x:17,y:6},{x:17,y:7},{x:17,y:8},{x:18,y:1},{x:18,y:2},{x:18,y:8},{x:18,y:16},{x:18,y:14},{x:18,y:13},{x:18,y:19},{x:19,y:17}]}};let s=[],p="right";const m={canChangeDirection:!0,canGoThroughWalls:!1,speed:0,powerupSpeedChangeTime:0};function I(){s.push({x:2,y:0},{x:1,y:0},{x:0,y:0})}function X(e){return s[e]}function K(){return s[0]}function j(){return s.length}function G(){for(let e=s.length-1;e>0;e--)s[e].x=s[e-1].x,s[e].y=s[e-1].y;p==="right"&&s[0].x++,p==="left"&&s[0].x--,p==="down"&&s[0].y++,p==="up"&&s[0].y--}function F(e,A){if(m.canChangeDirection&&A){if(e.preventDefault(),p==="right"&&A==="left"||p==="left"&&A==="right"||p==="up"&&A==="down"||p==="down"&&A==="up")return;p=A,m.canChangeDirection=!1}}function Y(e){const A=s[s.length-1];for(let a=0;a<e;a++)s.push({x:A.x,y:A.y})}function W(e){for(let A=0;A<e;A++)s.pop()}function Z(e){m.speed*=e,setTimeout(function(){m.speed/=e},m.powerupSpeedChangeTime*1e3)}function _(){s[0].x>x.values.BOARD_SQUARES_NUMBER-1&&(s[0].x=0),s[0].x<0&&(s[0].x=x.values.BOARD_SQUARES_NUMBER-1),s[0].y>x.values.BOARD_SQUARES_NUMBER-1&&(s[0].y=0),s[0].y<0&&(s[0].y=x.values.BOARD_SQUARES_NUMBER-1)}function $(){m.canGoThroughWalls=!0,setTimeout(function(){m.canGoThroughWalls=!1},7e3)}function ee(){s=[],p="right"}const t={values:m,setPosition:I,getSquarePosition:X,getHead:K,getLength:j,move:G,changeDirection:F,goThroughBoardEdges:_,lengthen:Y,shorten:W,changeSpeed:Z,goThroughWalls:$,resetVales:ee},Ae="data:image/png;base64,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",te="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFsAAABbBAMAAADuGOSqAAAAKlBMVEWzs7Nzi5R4j5errrB/k5qvsLGXoqadpaiImJ+RnqODlZyMm6ClqqyhqKpJvYXXAAADoklEQVRYw61XzWtTQRB/mr7YT3C2z5qmFvqiFqQK0SgK7cGPitfaGrxqWzz1YGxRe0vQQ0EPSUVB8dDiByIIiR70IkRBBakQpZ60/4vZt9ud7c7uawv+To+ZH7szs/P1PAOtABBsFO2CJrKeFTtRp58A1+30o1xXdYgoKly3b4OoxEUHrexEyHVsTBMlgaPXSu+ACOc00VUAp6+fhI6hZ6dAoGi3RSCYEgL/DwA4rTkOCplRjhAFVwi7E7UU9PhJiMMzg30D4vGuyTkhuf63t7AZXjY82A52b4HOpvL5k2es9AvNx5swPD7PbW1XdBIsf1lEPpMBjjo+INL1lx4HgL46J02qYilZ6FmVhEx+1iAtP0w6Vl0CYL8qJSY+lhU9PZvLjXD/Up5EqDLED6XtylWh8kvA7xUAUAVSExddknSVOy0ATFK6INCqg83kcl9DRd8jOZikrXiP99N81SVlARyWJ+qnm/Si8g9YdPww6LbHnA7s1cLCXawdrRyp7Qg97ia9T0VGA6t7IryEDmXMK0TfF5EzlB7MrKz8WNTFmJGE/p+raejarQg3nyA9rvwVLoc6PXgqcjx3GxB3PA3JAS9U7IYSD7taV5YXGm2xv2hjNF65N16IKUcOx7Q9Tdjy8VnWNkUahC1Tq8dmYtqzINJ0G8ISnkE11MoCnmHztWobxwM2esEW4It4JR2OlL5DDy6NcdlmzJLT9iK50mVMBb2iQopojvSbQrJ5YHe2bEjOwd4GQNehcSCLCmocKw+Gl2pYnSQk9jJEEiQGNXe4o3ZrCjhT13Wd2HVfmHRApO895vigqp1UTdmDeBzSzVndvC0NNZRH0xDR2aNmS6uBCwdeR3gegqBXMRqI9Gw+nx9ZpC01hc+FYA25TRB6t0oTBXzkdkKXWe0LQ0dHz+rlkoCYQQkP+Md3fYctueiY9RX3GFY104kZ2BI35HvQqTG6QhQA3q+tzYeSriqjgj3RpwvKMaSnfjcjMOdcfxrCVPdy5WNhdNDlCpFVLxbIzwpd3RBVnBCDEX/VXAz/5gRG5pd5kHBvYOvbflb6ADCkl3piEeA+18zBBiytLypvjAZVA2CZDNYeDtyu5tVHyJgKwYpo9UjRHvUZ3Ch77n8V9lEEcmJarUP2wSPwEKsft3gDuKnpXtVifuIStBl1EFvMs/rpZMARS2dSMU5Ef57rcT/PRMe2/mveRt1K4AkEScuiEep0evNeSg+2cXqcMXSc+hr9H0sNC1hrCMBPAAAAAElFTkSuQmCC",se="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFsAAABbBAMAAADuGOSqAAAAGFBMVEWzs7N0i5Orrq+ImJ5/kpmfp6mRnqOZo6YnQ5djAAAACHRSTlOAgICAgICAgBnLLxMAAALjSURBVFjDpVfBctowEHUxCVeEhbm6Dh2udkhyxoTcnRTSK24nzRVa+v+1FUtr+WntcfsuMKs369XqaXflteALIaRtuhIlIs+JMa75lSl30z9XawljQhTV2swypdqEGIkKshnNtTKFTrovFLb299i9PgsFeTKWG/GBhItF8X/Vlq/a4opmKQzkrkJGhhM6p1UEuj+LLty22BdgID/SgaxS0YeH3BNDMO2gU1Lj+EvmpD9FZVi0BzpiX9MxWSN7F5GyuegJnVYQVaSLuSwp0I2OJiTKVAQsXeqkkr599B68xHF8qf54NUghI4i9XkotekR3aau2Y+ghXWpz92VTR29xvKK8zzTHhOCLgC6Mfap0T+gCny3vDD3T7m+EFTvnvcJ6vb6rfo/t64ixExp5B3pAmSHQqYKAj6QrQpDXmgG6/FMKuviX6/H/9Mf3g8K3H0DvLherrEmXbx/ZiH9zxWUy9TLDzqGMQumKqCwmUIhJc1h0Q7cRcCbn4H7D9DpXt8N+R9IKMUSlJoRWILa7hYueuqJ8tnzAXhNsx+QDHR2H0PE8PsEn+70nXbGjjw07NUwZI0Jpcu4yzvghgzlqwLVLqkuqHpgDZuShfOGKjECQruAnosYCRglXNGerp7Yb5S3IlyAfflZYa9/o/thXZ8Imf99floLc7OhSl9T3sqTx48lurXCna2QCg5VutlSXoR0s7ZXcShI2m4mz2YyBvmlKbVcCWhnbKL8PaJRG9UVXG56SxI864I4mH5IKI+cIcX84vGq6yVnRN6DQ+FNmYM+OP3n92zVcbdvDVQZ0ip2UW8DohoPh2Ch33x4MX+Iar5m5gKme9zN77Hw8NQtOUebMU7vGT/pCLRJAfs2Ge1UuPWGb6kAQMU8VAJQokOt9PR9cjHO2NSgha+h9bzoecXMsihQ5RoP1EmMhX3OuM2Dw3PN2yOOZBN3/NJ9YHrD1BI7tA5FcLbCmywH0DOj93vnYQz72v7Rsx5yhv61SAAAAAElFTkSuQmCC",ne="data:image/png;base64,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",oe="data:image/png;base64,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",ae="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFsAAABbCAMAAAAr6AmrAAAA5FBMVEUAAAAAgAAAkgAAgAAAgAAAgAAAgAAAgQAAgAAAgQAAhAAAgAAAgQAAgAAAgQAAgAAAgAAAgAAAggAAgwAAiAAAgAAAgAAAgAAAgAAAgAAAgAAAgAAAgAAAgAAAgAAAgAD////5/Pn3+/cGgwb0+vT8/vzd791TqlOEwoQ4nDgQiBDR6NGNx41ksmTi8eKo1KhesF7v+O/r9eu63bp9vn0qlionkycikSKw2LCYzJhns2cxmTEcjhzz+fPn8+fV69V5vHnL5su/37+227ZCoUI9nz0Wixaj0aNvuG9Op05Fo0XI5MirXOjIAAAAH3RSTlMA+QTKxbbWVO9PFq4jaUHef2YdEQznjolGzrylm5Nd9gKWFQAABFtJREFUaN7Nmnd32jAUxQ1mBcpsSJpmaNlgRhghhBlmQtb3/z4lLo4A+UnCtKf9/VXcc651rt+TrqQYOiQz+bNoLFtMoFAia0av05mk8SdIxq9NJFJM5QvHCX9PRxBMJP09sPKPVAjJCaV+BBEOn5hIh4ub8KHS8RjSJXZykPK3KDqEn9/07cgBPsO+5zSNKUTQ4ZhaQz9JoCAk4mo/zlBQzlXSlyg4l1LTT6PoGH6eSqT926XKdMUjoHhYGDWr3NY7E9zRHzlky7bXbNRy+iX8m9LRnnsV0ivfN6c2/oJrs+VzsGqJb/5z6CmK2g4h/bFKPO7TjV7LPNcIoD2mGNukzhRNJHRoOLLl9cPalRoRtPvuI+uupWj/fctziLPzBq5d8d5G5yOpeG5vUuUzn/CG2cvQ/ecUe9ikuZLNiruuaPTjrYU5xJpJbI/uzH1qadbGO1iNdwSyvRJpLGB1ivcgnR64zIV3SpvDO7PecbxfPYIFbDKoKgdu7ql2y+t+dztz4j3r2NgH2h4Cq/9XDuHPem+zZm1L5m7z/Ilif6xpxVfcyy2pze/Rx6YUBG1WwhA29S2Y1CaYebXdwhjQfrVAbVr3r/HfcS6NPD47cUpE7eojBmkDnzMPfEmv1z3tAQWlrVtoCXJDMP8tziYLtKZLMMgUbM/PiH6DVCxs2O1n6Tx+pZJ+gx0hfQRyvdbOqiaSBoa1e5J4axgFpGAmqT8HSUgaGWC03Y2TK4pB7phMO8Ore7vvXz5rsOz+epHUn3xxyxvXiLN6fx18fPWJW7kjAnd7TZUmopuWHA4Wd9iDa8/h+iMVuXbKuEAu7mhF7bIFSzdVuyyvBF87DR9tNsEgVJWCYkaCx9XPYNnY0XbgYVv3SEHR8CZY8Q0tN0hBTJhyl+Jpi2+YVVGfwI6U1Zs3QJsHKYj23KkwhXYRgbhBGYZYbWcs9RueqloWVkHJYCWpkwtpkFKrw41vGlFFkFKr9xmUCoG9Kg9SavGa/3J8ZuQB7aWNdSElX/G0OH/DQQoWnzPf+Tvpr+1QfAB0gESSYD4uT6xDxMUwnpWs8+yeEn3xhuDKlRu+IcZNov1BraFfPkkimErN0h64aPca6RFSqw18VFXCivAcC8LqesbYdSHH8vwN0ltqDb0k5m++b4B5KlkaA2fCvoHvd460nTzsNCXfpympDlS2P1YQxwT2lwAPC6qvfQLvi4NMA7Qr7Iv5wNUwRzYNMGHYwDkEwHhJNRozBZyfBK1HUofOT4wc0oW9WtRPm9udA8+r1KxexHq0F8B5FT9n02Q0p+CwEwXgfFCbt8aO7ZbDawQ619SHDdtcnXwwxSn4FTpQvUHt/YRyqThH1ud9SemjZTlMeY5snEbQobDu04gB599//9ye26LtOXz2DXMeWPr8X97vBL+X+uf3acfeA6pdD3J/qa8u2A7du/5X98U699z573/lfj57dVP4M/f/mfRZ1IwVQ6FEMWumzvN6f1fwC/EVLvV+j703AAAAAElFTkSuQmCC",ie="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFsAAABbCAMAAAAr6AmrAAAA7VBMVEUAAADSAADVAADUAADUAADVAADVAADUAADVAADUAADUAADUAADUAADUAADVAADVAADVAADVAADVAADUAADVAADVAADUAADUAADUAADTAADUAADVAADVAADUAADSAADUAAD////++Pj99PT+9vb+/PzWBgbdNTXWCwv3z8/pd3ffPDzbKCjYFxf++vrwpaXrhITkWVnXEBD74+P52trmZ2fcLy/87e3ysLDumprpe3vaIyPZHh71wsLsjIzncHDlYmLiT0/hSkrgRET86en53t70vr7zubntkpL88PD41NT2ycnztLTxqankXl7mampJxVV7AAAAH3RSTlMABa4fxk9E+u9nF8q21c733YtUDH+R57xbEqOaayc/FsI8eAAABF9JREFUaN7NmmlT2zAQht3cTtLcSblaWZJzOfdBCBCgCeGG/v+fU3AwaiyvVnHLTJ9PeDTz2qze1a6kGDqkE2YxkivUUiSZKuSy1aNE2vgXpEvVHJGpRczo3wnvmzECEzvaD62ciCSJmmQkEUo5niE65Pa+7Kpc+kp0+RrfSTmaJbvw7bu28pdKkuxGvqIZmGiM7E5Gy5HxFAlDag+XrpKwFLFQR0h4DpRBLyP+wPxSVkgHpkv9+FxXPAaKf8n6VTvDwfPEtq71vxwKywERnC/b/Ra1NthEm0iwdPF92LmcPzJLILTrj+16KLeU3gennqKs/Yvz8RITjwdko5cyZycTO1h79Pbf8EUHSaKoNI+xLWcMBx9vENpz7j7Q+Uid/v75rIgx+Q3Ufe54U8vZpVK84otIXgzJb7hy/1qIf4RPHFU12l5yNfLxJ7f+gN8qEiq7tfbh0vWxtUWPXjS1vKJRwNrM8sFmL2CZ27K2zNnP18x88p663JLhrQb64b4lqrsSmenlYZ9aAdj0uRtc/T/6EOIxcqZ3NzPLQ2g3qBUMBfzo9S1ePWisrQ2ydsu2QBqKNWvfq+rLHqQ95KBy7ybY45t27oh4NBtXF7djWbt+bYFQYHkxA2ZSvEFoDxgoze+gEuQ2wd6T/Ian9cKtE9QCuQfXrbcWfY9gnMDabEogSq/ah5i0o/jsCQGpvmoXMO0HWJo7hCjyPopJTxnskROiIL1JSpmRM2xu5vRe4T9l45IQ7pYsuEnmOw5HZEBUmEbVV8TWH9l96q6GiomcNZFu4tv7WnL6/CBSXmjf9GD/DbE2KEdc3KjK2is4InYL22V5Fhz2W1zWrq8VE9lAtAtGyldp+J/alwr/9QlCzUgG1rI3zbbbSEHwLrpL8bTlN0xHZK70H0bSyMODx1QRbfv65EX96XmjBg8+2pYSZt+ulPEu4I0UjM1ajmKxykFDbiHD1Wkfys6MAW76TpmlBR93oK6wCEiLRgoPjAMUBxPQfgZMol8iTHn9lhspHBYUlh9QmZ9S29LHntQDC/1X4MNbyFxibUpBVedfZorpxNurQ2V/0hxQ7aj3noL6kzSBOXvi2uLnUrhfiSkbn4luCg0C+kHDxPoTPfW1392i/4YZ3dGejg+7Wwts2ds3IHRuNMLOVkFnHQmCshwDgYFa2oTYp6HU24wiDm8TQQbYXwKM5tTW1o7D++IwywD7Je2Lgf08tAwwrbmMy+cQOM0LSnEPRoDzk9B+fBDejiLnPqgf4XBXFOdVuB+5HJj7ujivAs7Z9Oj2/X5kV8A5m2RynOMF3zL3QngEPNfUZ/XAhEdmXRFs5DxWj+XifYGk1x8V7QA5R9anM5/1GKP9LnqObJRD3GKcO8dN4Pz788/tRVgOQ0gi9w24W3CKn3e/U/q0e6lcVPc+DV4Vwfu0/+Ae0I16mPtLfXUk7OLe9f+6L9a45zbLn3I/XzjcQ12n+7uCajZTqOWTqVohEymaer8r+A1zjTDQfIW3GwAAAABJRU5ErkJggg==",le="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFsAAABbCAMAAAAr6AmrAAABNVBMVEUAAAAAgAAAgAAAgwAAgQAAgAAAgQAAgAAAgQAAgQAAgAAAgAAAgAAAgAAAgAAAgAAAgAAAgAAAgAAAiAAAgAAAgQAAgAAAggAAgAAAgQAAgAD///8AAgAGBgb8/PwLCwvu7u4uLi4RERH09PSkpKSDg4P39/c4ODgYGBgfHx8ACwDf398AewDX19dnZ2dMTEyLi4tVVVUnJycAIgAAFgAAEgDp6emwsLB7e3u1tbWXl5eQkJBeXl4AbAAAQgDNzc26urqbm5sAeADb29sVFRUAcQAAHADm5uZ3d3dubm5FRUUAXAAAOwAAMwAAKADBwcGfn59jY2MjIyMAVAAALgDIyMi9vb10dHRqampQUFBCQkI9PT00NDQATwDj4+PT09PExMSqqqqIiIhaWloAZQAASgAAYAC1/Jg9AAAAGnRSTlMAyfgVUNRor1gj7922kkK7i+ilDMOARh2afVaksJcAAAZsSURBVGjezVppV9pAFBUXsODa2tomE7KQkASBsO+yCCIgICDu4F7//08okElYkoxRtO39wOHozD0v9915eTPDghksbVi3bCuObTu2uO2wbK5bN5YWPgJLq+sWTIttm3V3TmLrDmYMi/X94f+wLWJoLNp+vIt52YKZwcrqm5lXVzCzWFl+E/OXNewt2Pxinvq7js5o3X+ZZN61YG+HxVToy3bsPbCbyOk69l5svUb9FXs/viKZv61h82DzG4Lags0HizH5JjYvNj9aa7TmaIfM75Zl7GOwrLMa7R/EbdeuUAv2UbBoyhP2cfg+U1RfrXzegwPTVXFaFfR63M+GPWCAcN9rinzNrEcOfkfBTSJ+V/TlE0Jk/+D5NFtvNJrNZrdRz/ZfDl/zivEL7LDuEdMxHMKVAYDo1ILtywpXqfqDEk0CEOn292dfcybC9mZBj3XiE7gCZ/gUYvctfwh4useawNH+O46KSXwaewSZwzWIPWRIT31fJ/AfBkJ3iapLQ1PjmRlyKFfrGnTH7ErfYtOlfo7yPh0OTqoyd7guchLIKkaywcZM19u/wYVTj6DQw/0ihesjKZYPocflds6ql8QmE9efnuJxZ+8CNwAlRaEuVqNMHpTpPYPZnITjccZpRO4MRuX1uzOSRMfUEZ4ympy5HOSNOMON4O41ZJKhKKta6qjkMpzbaQ0+QixuiByQVRn2Kz811J6M03DmHhiKxadwY9xkRzTrA26HJuorY2o8QA8/6RaCuxJWls/ubBojNTdiIs0NP5lzxBDOowi+MWO+cM+FmJckqZEwR4gxGci9MevuRiiGI3BdHXmcRgxxMRHo8JnO4ZS4Q1HnwMj20gViTKJUht3EdC+1Dwo4MuzMyMIkQu484Ydx26ZWpTfyhKRmyZHOKdGJSEggAPVembJgPeRCUVNCerSsQwHDFc8RaTwAZDbHgn1SkXMchSo9iveBMSoIJ7SQx/ELyL29MFFgw2hFzmEV4Sv6MSdrRJUa/h9qYl8YU/cHaiJwW3qUCzij51IfJ5L+kYnOAMzl4jhubzSAonbykix6SVNLjh78NKixcq7cNFNWuLdVazPIRF6Icrh+IZXP+fYoN3VUzJ2wXIYvgVCbVR7ZfQUqEaj32CflBIo6Rcpin4BrugQUkCHpMp2c0Ch2DeKKBx1q2/NCoNRmiaQ8V0iMoqOKvmKM0g4TiHOcgz6xqC/5LsokeaIli167QdTfex7QsYFqQOkKt2AmPXHEJBKmmSsZPhyV4oEw5HCKUJN1pQ4+E27EOk7AL0Te4G3EBglAs7JHAfSJVanfWR6hdVr+ckaGuPjddAzOvXwqIwIgXFDQ6CQdVur3EqzbfsO3GMHCWQwdIsCA5kYKtquVC//T1bX8B4lV7esThUfIvaT0x2HOoNJnSKjDrdgeynofeOLpjsCQjCCGaCkR35vMbpwpUQGZ26FuK8P6i9JH0z4oaQe+ohEoBgHvwrnmiPGn2p80E/oFOwOf9k4IunE0bqvEKDPButKfQMHrQZ3sS2RBqZ4MX0QSux8kQPiHgVDkC5R7gJ1RG6+pJm6OlPZUq4gA8Im8S7+M5dJXJBAf5Qfzl8f9oOxwb5SbZm6FxLgyt0IUcHeaJgDoZTj2LKaqQ/nigcsaA4DYVsMAz9Dd4/77FEwsTOpREB5dijR8JwdzxfECAYZgxE6Hkb+WaP/JOMsFcDrZf8OS0gV+n5wTNkiGCmpsLHNNTT3RXSuQuHy6CrYrXOqEml74bUiN2ab3O/XhsqjxJSBenquBFGugDIJF3AychVJE2fFszOzTfhOJ9GM6eTuxchJE8xB7DhNV36vMVKrj6WvPC5YxhXyqGMY4JnosbwbDoJc+QlkwGSSiWa/exnhFJS+oD3hySUZO1dGH2QgI+dlbvbKQT9wQnsbL9L5YuzE+9dDp+6LvvpBhQPN45sSg340Ckg5WUg/J85wvd5J/aHHtGwGAcPbZa3z2s6a239kyGCDSOPbqbu+P+/VmOerxgAE80Ui4kT3e14y0GZ+fmDop8aLOTz7v3OfX3zmvgqp84jkbrOPzY/kTzzX/7nksdPm82Py88++db//k3H7++wY0tuZwyD+634HY3XnPQv/yafdp3/+Le8Ch6m+5v/yP7l3N3hdvzHHPjQp+x7o07/38Tz3pHT9Xd82ToH9XsL5mcWwvYvZth8W2ZfJ3BX8AJtAAasLyGuUAAAAASUVORK5CYII=",re="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFsAAABbCAMAAAAr6AmrAAAA6lBMVEUAAAAAgAAAgAAAkAAAgAAAgQAAggAAhAAAgAAAgAAAgAAAgQAAgAAAgAAAgAAAgAAAgAAAgAAAgAAAgQAAgwAAhwAAgAAAgAAAgAAAgAAAgAAAgAAAgAAAgAAAgAAAgAAAgAAAggAAgAD////y+fIJhQktly0YjBj8/vzG48YOhw76/frj8uO02rS83rwejx4TihP3+/fs9uxxuXFlsmU+nz42mzYFggXc7tzX7NfO586ez56WzJaMxoxdr10lkiWo1Kh5vXlSqVJEokTn8+ei0aKQyJCAwIBarVpKpUqFw4U6nTpstmyv2K99nLa2AAAAInRSTlMAaMoFxk8gFq358FX31Ljej4p/QhEMs6FGzryW5tjqXSc/FGi8bQAABENJREFUaN6s1ulS4lAQBeCbiEBA0AFFGRSnTrNI2HcUAWVxY+b9X2emwpCQDiE3xO83Rd3qPhxayIiklYtM4jwfg5Y/V5M5JR0R3yESv1DhdBtVwiKQSyUEdyHlUhzrJqPhMC16I45xqkJG9l74Fb+DrMSp8COchB8/fwlZJykNlv6HDi9nqRPJR9uy8Zuo0xvCixqW2mEMO8oF+uepDy+xuPB0AZsxbbwU4eWH16ijsBk80H9deLo+OPQrno8KbU1k8nJ14KtV2H2QqQcJoSvXgfBXF2tkWsgl3W0s12DeydKElKhUQoBmmyxlOMinJQ7uhXYsPyHnVDiEY2DWZLfSISMWduwxBO6JmFEfMlS+zxS4HjmNW5CQYhM5A6MvaY+OTMw1e+VmwE1ov8ZsU2GNElwlbd0HbtYmF9U33aiw6rtcVhLg6uRuOTUqrABXiUPRXtBBRql/SYVcBTN8JE9LHe6y5h0Crkve/hRxwPZuiYJpdUhCberdWZcamGeSUxnAjbY55xQwpSrJck+5sn+TDZL3MLaKvTyDJWQcwWDm5Et7UobhtUr1EkwRIcQ97Ioj8qn93AT0+uZHa7ZZfM8/2Sv5V13NR7zNckKIc4AdUgEtYEg4xz2moLrmwNOOQyqg9jY4aZ7uCgX1ZSU8xw6poGq6dU0kWW0HNd2plCxrkoAqMGVZBPWV+aHuIx1hANOdyMNusNnm2xD49L/YFSy3QgM3rVFhDsPa5/wLZVhiAk7FdQtbfV9v/9usue0kDAVRFBtKCGCwXqKJGuNQLhFRFBHkKhgFFf//dwyF5EDXoZ365PqAPkxO1szs6WRL4amcxPDWK2npbrW5QlBvgCLpmIps1bso8ZQnvqoJyRaX5n1HUlU8yFqovzmYBO1UFAobYCr0ZAdUWHRh/PD8fIAub2UUWKg6q0dpm53+SOxwF5yLjHePAC/IE67Rd2x8GQuNdo1cWLWWjT4+4LlfFrq2tlDTrsqGhCmmUkFzANwF+0YDlvdYH0uYcw7f5DtsofIQL3IoIM+5ivRgIWmHLPB4IyCIPtMSyRMtJNIM6hQVUqQtc6x9F5xa3o6h1xGwh/mbDGEhrhZtAYVj7A1gXKeFAj7Mp1+FZLHvkMbKQuRnc5AiR9jT7LvgY1OI6UYzIQ73S/suuBADl4vbshAXezFoGQvB6N3SirmQfezzoOkbC4FOy18rjLjIIcBg00Kk2q+VHipCssxP2MhCFgKVRUVIIYPcB9zBQjoO4/OqKS2kzKuYs2EXhIW0ORvI23bBniTGjc81qz4spMJT5LHvsJCKU0WO/EwLJcmRyUnaKBQW0uXfmtz+vgELJcztWRZT888G4vRk9wbiyV/xlPed5OTyyrtUcpyM9p4GKyruaVoy8LniDqjGRZtT3C/VuGlR312Tc5ZV3Iv/4Z076j5fPL9SvDrtfwXO5UVBchdFJ+sp/yv4BTuPdvTRnRFtAAAAAElFTkSuQmCC",u=29,S=1,T=30,y={apple:new Image,obstacle:new Image,obstacleTransparent:new Image,powerups:{lengthen:new Image,shorten:new Image,speedUp:new Image,speedDown:new Image,points:new Image,goThroughWalls:new Image}};y.apple.src=Ae;y.obstacle.src=te;y.obstacleTransparent.src=se;y.powerups.lengthen.src=ne;y.powerups.shorten.src=oe;y.powerups.speedUp.src=ae;y.powerups.speedDown.src=ie;y.powerups.points.src=le;y.powerups.goThroughWalls.src=re;function B(e,A,a,h,o){const c=A*(S+u)+S,D=a*(S+u)+S;i.values.ctx.drawImage(e,c,D,h,o)}function U(e,A,a){const h=S*e+S,o=S*A+S;i.values.ctx.fillStyle=a,i.values.ctx.fillRect(e*u+h,A*u+o,u,u)}function ce(){i.values.ctx.fillStyle="#fff",i.values.ctx.strokeStyle="#e1dfdc",i.values.ctx.fillRect(0,0,i.values.canvas.height,i.values.canvas.width);for(let e=.5;e<i.values.canvas.width;e+=T)i.values.ctx.moveTo(e,0),i.values.ctx.lineTo(e,i.values.canvas.height);for(let e=.5;e<i.values.canvas.height;e+=T)i.values.ctx.moveTo(0,e),i.values.ctx.lineTo(i.values.canvas.width,e);i.values.ctx.stroke()}function ge(e){let A="obstacle";t.values.canGoThroughWalls&&(A="obstacleTransparent"),e.forEach(function(a){B(y[A],a.x,a.y,u,u)})}function ue(){for(let e=0;e<t.getLength();e++){if(e===0){U(t.getSquarePosition(e).x,t.getSquarePosition(e).y,"#e67312");continue}U(t.getSquarePosition(e).x,t.getSquarePosition(e).y,"#fc9125")}}function ye(e){e!==null&&B(y.apple,e.x,e.y,u,u)}function xe(e){Object.keys(e).length!==0&&B(y.powerups[e.type],e.x,e.y,u,u)}const d={drawBackground:ce,drawObstacles:ge,drawSnake:ue,drawApple:ye,drawPowerup:xe},E=1e3;let b=0,P=0,r=null,n={},pe=6,v=null,V=1,M,Q,w=!1,l=null;const g={BOARD_SQUARES_NUMBER:20,bestScores:[],loopGameTimeout:null};function de(e){l=e,t.values.speed=l.snakeSpeed,t.values.powerupSpeedChangeTime=l.snakePowerupSpeedChangeTime,V=l.snakeLengthChange}function k(){d.drawBackground(),d.drawObstacles(l.levelSettings.obstaclePositions),t.setPosition(),d.drawSnake(),L(),d.drawApple(r),document.addEventListener("keydown",function(e){const A={37:"left",38:"up",39:"right",40:"down"},a=e.which,h=A[a];t.changeDirection(e,h)}),M=setTimeout(C,E)}function C(){clearTimeout(M),clearTimeout(g.loopGameTimeout),t.values.canChangeDirection=!0,d.drawBackground(),d.drawObstacles(l.levelSettings.obstaclePositions),fe(),d.drawPowerup(n),d.drawApple(r),t.move(),t.goThroughBoardEdges(),d.drawSnake(),Se(),Pe(),Ve(),he(),g.loopGameTimeout=setTimeout(C,t.values.speed*E)}function L(){if(r)return;let e=!1;for(;!e;){r={x:Math.floor(Math.random()*g.BOARD_SQUARES_NUMBER),y:Math.floor(Math.random()*g.BOARD_SQUARES_NUMBER)},e=!0;for(let A=0;A<l.levelSettings.obstaclePositions.length;++A)r.x===l.levelSettings.obstaclePositions[A].x&&r.y===l.levelSettings.obstaclePositions[A].y&&(e=!1);for(let A=0;A<t.getLength();++A)r.x===t.getSquarePosition(A).x&&r.y===t.getSquarePosition(A).y&&(e=!1)}}function he(){const e=t.getHead();e.x===r.x&&e.y===r.y&&(r=null,L(),d.drawApple(r),t.lengthen(1),z(l.levelSettings.level),P+=1,(P+l.levelSettings.level)%3===0&&me())}function fe(){Object.keys(n).length!==0&&(w||(w=!0,Q=setTimeout(function(){n={},w=!1},1e4)))}function Se(){Object.keys(n).length!==0&&t.getHead().x===n.x&&t.getHead().y===n.y&&(n={},v())}function me(){ve(),De()}function ve(){let e=!1;for(;!e;){n={x:Math.floor(Math.random()*g.BOARD_SQUARES_NUMBER),y:Math.floor(Math.random()*g.BOARD_SQUARES_NUMBER)},e=!0;for(let A=0;A<l.levelSettings.obstaclePositions.length;++A)n.x===l.levelSettings.obstaclePositions[A].x&&n.y===l.levelSettings.obstaclePositions[A].y&&(e=!1);for(let A=0;A<t.getLength();++A)n.x===t.getSquarePosition(A).x&&n.y===t.getSquarePosition(A).y&&(e=!1);n.x===r.x&&n.y===r.y&&(e=!1)}}function f(){clearTimeout(Q),w=!1,n={}}function De(){switch(Math.floor(Math.random()*pe)+1){case 1:v=function(){f(),t.lengthen(V)},n.type="lengthen";break;case 2:v=function(){f(),t.shorten(V)},n.type="shorten";break;case 3:v=function(){f(),t.changeSpeed(2)},n.type="speedDown";break;case 4:v=function(){f(),t.changeSpeed(.5)},n.type="speedUp";break;case 5:v=function(){f(),z(10)},n.type="points";break;case 6:v=function(){f(),t.goThroughWalls()},n.type="goThroughWalls";break}}function z(e){b+=e,q(b)}function q(e){document.querySelector("#game__score").innerHTML=e}function we(e){g.bestScores.push(e),g.bestScores=g.bestScores.sort(function(A,a){return a-A}),O();for(let A=0;A<5;A++)if(g.bestScores[A]){const a=document.createElement("li");a.appendChild(document.createTextNode(g.bestScores[A])),document.querySelector("#game__score-list").appendChild(a).classList.add("game__score-list-item")}}function be(){g.bestScores=[]}function O(){document.querySelector("#game__score-list").innerHTML=""}function Pe(){const e=t.getHead();for(let A=1;A<t.getLength();++A)e.x===t.getSquarePosition(A).x&&e.y===t.getSquarePosition(A).y&&N()}function Ve(){if(t.values.canGoThroughWalls)return;const e=t.getHead();for(let A=0;A<l.levelSettings.obstaclePositions.length;++A)e.x===l.levelSettings.obstaclePositions[A].x&&e.y===l.levelSettings.obstaclePositions[A].y&&N()}function N(){we(b),f(),H(),k()}function H(){b=0,P=0,w=!1,t.resetVales(),q(0)}const x={values:g,setSettings:de,startGame:k,clearPowerupTimeout:f,clearRenderedScoreList:O,clearBestScores:be,resetGameValues:H},R={canvas:null,ctx:null};function Re(){document.querySelector("#settings__start-button").addEventListener("click",function(){R.canvas=document.querySelector("#canvas"),R.ctx=canvas.getContext("2d");const e=Be();Te(),x.setSettings(e),x.startGame()}),document.querySelector("#header__back-arrow").addEventListener("click",function(){clearTimeout(x.values.loopGameTimeout),Ee(),Ue()})}function Be(){const e={level:document.querySelector("#level").value,speed:document.querySelector("#speed").value,powerupSpeedChangeTime:document.querySelector("#speed-change-time").value,lengthChange:document.querySelector("#length-change").value},A=J["level"+e.level];return{levelSettings:A,snakeSpeed:A.speed/e.speed,snakePowerupSpeedChangeTime:e.powerupSpeedChangeTime,snakeLengthChange:e.lengthChange}}function Te(){document.querySelector("#game").classList.remove("game--hidden"),document.querySelector("#settings").classList.add("settings--hidden"),document.querySelector("#header__back-arrow").classList.remove("header__back-arrow--hidden")}function Ue(){document.querySelector("#game").classList.add("game--hidden"),document.querySelector("#settings").classList.remove("settings--hidden"),document.querySelector("#header__back-arrow").classList.add("header__back-arrow--hidden")}function Ee(){x.resetGameValues(),x.clearPowerupTimeout(),x.clearBestScores(),x.clearRenderedScoreList()}const i={values:R,init:Re};document.querySelector("#app").innerHTML=`
  <div class="wrapper">
    <header class="header">
      <span id="header__back-arrow" class="header__back-arrow header__back-arrow--hidden" title="Go back to settings"><</span>
      <div class="header__heading-wrapper">
        <h1 class="header__heading">Snake</h1>
      </div>
    </header>
    <section id="settings" class="settings">
      <fieldset class="settings__fieldset">
        <legend class="settings__title">Settings</legend>

        <section class="settings__option">
          <label class="settings__label" for="level">Level</label>
          <select id="level" class="settings__select">
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
          </select>
        </section>
        <section class="settings__option">
          <label class="settings__label" for="speed">Snake speed</label>
          <select id="speed" class="settings__select">
            <option value="1">slow</option>
            <option value="2">medium</option>
            <option value="3">fast</option>
          </select>
        </section>
        <section class="settings__option">
          <label class="settings__label" for="speed-change-time">Snake speed change after catching a powerup</label>
          <select id="speed-change-time" class="settings__select">
            <option value="1">1 second</option>
            <option value="2">2 seconds</option>
            <option value="3">3 seconds</option>
          </select>
        </section>
        <section class="settings__option">
          <label class="settings__label" for="length-change">Snake length change after catching a powerup</label>
          <select id="length-change" class="settings__select">
            <option value="1">1 cell</option>
            <option value="2">2 cells</option>
            <option value="3">3 cells</option>
          </select>
        </section>

        <div class="settings__button-wrapper">
          <button type="button" id="settings__start-button" class="settings__start-button">Start</button>
        </div>
      </fieldset>
    </section>

    <section id="game" class="game game--hidden">
        <section>
          <p class="game__score-text">Score: <span id="game__score">0</span></p>
          <canvas id="canvas" class="game__canvas" height="601px" width="601px"></canvas>
        </section>

        <section class="game__best-scores">
          <p class="game__best-scores-text">Best scores:</p>
          <ol id="game__score-list" class="game__score-list"></ol>
        </section>
    </section>
  </div>
`;i.init();
